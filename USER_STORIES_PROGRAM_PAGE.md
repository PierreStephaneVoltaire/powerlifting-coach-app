# Program Page - User Stories

## Overview
The Program Page displays the athlete's current training program. There is **only ONE active program per athlete at a time**. Program creation happens through AI coach chat interaction, not through a manual form.

## Context
- Programs are generated by the AI coach based on:
  - Athlete's onboarding form data (age, weight, experience, goals, etc.)
  - Conversation with the coach (competition date, training schedule, preferences)
  - Current lifts and progress
- Athletes cannot manually create programs
- Coaches view their athletes' programs but create them through chat interface

## User Stories

### US-1: View Current Program Summary
**As an** athlete
**I want to** see my current program overview
**So that** I know what program I'm following and its key details

**Acceptance Criteria:**
- Display program name (e.g., "12-Week Competition Prep")
- Show start date and end date
- Display competition date (if applicable)
- Show current week/phase (e.g., "Week 3 of 12 - Hypertrophy Phase")
- Display training days per week
- Show program status (Active, Paused, Completed)
- If no program exists, show message: "No active program. Chat with your coach to create one."

---

### US-2: View Upcoming Workouts
**As an** athlete
**I want to** see my scheduled workouts for the next 7-14 days
**So that** I can plan my training week

**Acceptance Criteria:**
- Fetch upcoming workouts from reminder-service
- Display workouts in chronological order
- For each workout show:
  - Date and time
  - Workout type (e.g., "Lower Body - Squat Focus")
  - Exercise list (main lifts)
  - Estimated duration
  - Status (Scheduled, Completed, Missed, Skipped)
- Clicking a workout opens workout details/logging
- Show "No upcoming workouts scheduled" if none exist

**API Integration:**
```
GET /api/v1/reminders/user/{user_id}/upcoming
Response: [
  {
    "id": "...",
    "workout_date": "2025-01-15",
    "workout_type": "Lower - Squat",
    "exercises": [...],
    "status": "scheduled"
  }
]
```

---

### US-3: View Program Progress
**As an** athlete
**I want to** see my training progress over time
**So that** I can track my consistency and improvements

**Acceptance Criteria:**
- Show completion rate: "Completed 8 of 10 workouts (80%)"
- Display weekly adherence graph/chart
- Show missed workouts count
- Display strength progression (if tracking lifts):
  - Squat: 315 lbs → 335 lbs (+20 lbs)
  - Bench: 225 lbs → 235 lbs (+10 lbs)
  - Deadlift: 405 lbs → 425 lbs (+20 lbs)
- Timeframe selector (Last 4 weeks, Last 8 weeks, Entire program)

---

### US-4: View Workout History
**As an** athlete
**I want to** see my completed workouts
**So that** I can review what I've done

**Acceptance Criteria:**
- Display last 10-20 completed workouts
- For each workout show:
  - Date completed
  - Workout type
  - Key lifts and weights used
  - Coach feedback (if any)
  - Form check videos linked (if any)
- Pagination or "Load more" for older workouts
- Filter by workout type (Upper, Lower, Full Body, etc.)

---

### US-5: Quick Actions
**As an** athlete
**I want to** quickly access program-related actions
**So that** I can efficiently manage my training

**Acceptance Criteria:**
- "Start Today's Workout" button (if workout scheduled for today)
- "Chat with Coach" button - opens DM with AI coach
- "View Full Schedule" - expands to show all scheduled workouts
- "Program Settings" - pause program, request modifications

---

## Technical Implementation Notes

### Data Sources
1. **Program Data**: `GET /api/v1/programs/user/{user_id}/current`
   - Returns current active program
   - Only one program can be active at a time

2. **Upcoming Workouts**: `GET /api/v1/reminders/user/{user_id}/upcoming`
   - Returns scheduled workout reminders
   - Includes workout details and status

3. **Workout History**: `GET /api/v1/programs/user/{user_id}/workouts/history`
   - Returns completed workouts
   - Paginated response

4. **Progress Metrics**: Calculate on frontend or backend aggregation
   - Completion rates
   - Strength progression
   - Adherence metrics

### Component Structure
```
ProgramPage/
├── ProgramSummary.tsx       - Program overview card
├── UpcomingWorkouts.tsx     - Next 7-14 days workouts
├── ProgressMetrics.tsx      - Charts and stats
├── WorkoutHistory.tsx       - Past workouts list
└── QuickActions.tsx         - Action buttons
```

### State Management
- Fetch program data on mount
- Poll for updates every 60 seconds (or use WebSocket)
- Cache workout history locally
- Invalidate cache when workout completed

---

## Out of Scope (Do NOT Implement)
- ❌ Manual program creation form
- ❌ Exercise library/picker
- ❌ Workout template builder
- ❌ Direct program editing
- ❌ Multiple programs per athlete

All program creation and modification happens through **AI coach chat interface**.

---

## Future Enhancements (Post-MVP)
- Export program to PDF
- Share program with others
- Program templates from coach library
- Auto-adjust based on missed workouts
- Integration with wearables (recovery metrics)
